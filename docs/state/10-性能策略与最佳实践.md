# 性能策略与最佳实践

- 只在需要时创建历史：`historyLength` 会引入写入开销与内存占用；
- 热路径读使用 `__unsafe__getWithoutCapture`，并在需要建立依赖处显式 `get()`；
- 将大型派生拆分为多层 computed，减少单个 computed 的父依赖数量；
- 在 react 中批量 DOM 更新使用 RAF 调度，避免同步抖动；
- 事务包裹多次 set，降低中间反应数；
- 为对象提供 `isEqual` 自定义比较，避免浅变引发无意义重算；
- 用 `whyAmIRunning()` 排查意外更新来源，确保信号命名清晰。 

