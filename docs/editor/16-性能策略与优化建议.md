# 性能策略与优化建议

核心策略
- 大量使用 ComputedCache：页面矩阵/边界/蒙版/渲染清单等，避免重复推导。
- DOM/CSS 友好：容器 transform/尺寸/可见性为主，形状内部 JSX 稀疏重绘（`useStateTracking` + 内容等价判断）。
- 指针连续与节流：`pointermove@body`，wheel/pinch 归一处理；tick 驱动动画/涂鸦。
- signals 热路径优化：`unsafe__withoutCapture()` 只在热点路径读取，防止无意依赖捕获。

建议
- 大批量变更务必 `run`/`transact` 包裹；
- 自定义形状复杂渲染时，尽量把几何/布局预计算进 util 层并缓存；
- 外部资源（字体/图像）采用懒加载与 hash 去重，避免首屏拥塞；
- 观察 debugFlags 与 PerformanceTracker，识别瓶颈（缩放/平移/绘制/文本）。

